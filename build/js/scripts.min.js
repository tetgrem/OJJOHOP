function burgerMenu(){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),s=document.querySelector("body");e.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active-burger"),s.classList.remove("locked")):(t.classList.add("active"),e.classList.add("active-burger"),s.classList.add("locked"))})),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&(t.classList.remove("active"),e.classList.remove("active-burger"),s.classList.remove("locked"))}))}function catalogSelect(){class e{constructor(e,t){this.$el=document.querySelector(e),this.options=t,this.selectedId=t.selectedId,this.render(),this.setup()}render(){const{placeholder:e,data:t}=this.options;this.$el.classList.add("select"),this.$el.innerHTML=((e=[],t,s)=>{let i=t??"placeholder не указан";const c=e.map((e=>{let t="";return e.id===s&&(i=e.value,t="selected"),`\n            <li class="select__item ${t}" data-type="item" data-id="${e.id}">${e.value}</li>\n        `}));return`\n        <input type="hidden" class="hidden__input">\n        <div class="select__backdrop" data-type="backdrop"></div>\n        <div class="select__input" data-type="input">\n            <span data-type="value">${i}</span>\n            <img src="./img/down-arrow.svg" alt="arrow" data-type="arrow" class="select__arrow">\n        </div>\n        <div class="select__dropdown">\n            <ul class="select__list">\n                ${c.join("")}\n            </ul>\n        </div>\n    `})(t,e,this.selectedId)}setup(){this.clickHandler=this.clickHandler.bind(this),this.$el.addEventListener("click",this.clickHandler),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]')}clickHandler(e){const{type:t}=e.target.dataset;if("input"===t)this.toggle();else if("item"===t){const t=e.target.dataset.id;this.select(t)}else"backdrop"===t&&this.close()}get isOpen(){return this.$el.classList.contains("open")}get current(){return this.options.data.find((e=>e.id===this.selectedId))}select(e){this.selectedId=e,this.$value.textContent=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach((e=>e.classList.remove("selected"))),this.$el.querySelector(`[data-id="${e}"]`).classList.add("selected"),this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.$el.classList.add("open"),this.$arrow.classList.add("open")}close(){this.$el.classList.remove("open"),this.$arrow.classList.remove("open")}destroy(){this.$el.removeEventListener("click",this.clickHandler),this.$el.innerHTML=""}}new e("#select1",{placeholder:"Бренд",data:[{id:"1",value:"Бренд 1"},{id:"2",value:"Бренд 2"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}}),new e("#select2",{placeholder:"Цена",data:[{id:"1",value:"Цена 1"},{id:"2",value:"Цена 2"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}}),new e("#select3",{placeholder:"Для кого",data:[{id:"1",value:"Для девушки"},{id:"2",value:"Для парня"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}}),new e("#select4",{placeholder:"Коллекция",data:[{id:"1",value:"Для девушки"},{id:"2",value:"Для парня"},{id:"3",value:"Для парня"},{id:"4",value:"Для парня"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}}),new e("#select5",{placeholder:"Сезон",data:[{id:"1",value:"Для девушки"},{id:"2",value:"Для парня"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}}),new e("#select6",{placeholder:"Событие",data:[{id:"1",value:"Свадьба"},{id:"2",value:"Помолка"}],onSelect(e){document.querySelector(".hidden__input").value=e.value}})}function readMore(){const e=document.querySelector(".read__more"),t=document.querySelector(".test");e.addEventListener("click",(()=>{t.classList.contains("test")?(e.classList.add("active"),setTimeout((function(){e.innerHTML="Закрыть"}),1),setTimeout((function(){t.classList.remove("test")}),221),t.classList.add("test2"),e.classList.remove("no-active")):(t.classList.add("test"),t.classList.remove("test2"),e.classList.remove("active"),e.classList.add("no-active"),setTimeout((function(){e.innerHTML="читать полностью"}),250))}))}function viewMore(){const e=document.querySelector(".see-more"),t=document.querySelector(".hide__block");e.addEventListener("click",(()=>{t.classList.contains("hide__block")&&(t.classList.remove("hide__block"),e.classList.add("see-more-active"))}))}function fixedNav(){const e=document.querySelector(".nav__fix"),t=document.querySelector(".fix_logo"),s=document.querySelector(".fix_navbar");window.scrollY>=129?(e.classList.add("fixed__nav"),t.classList.add("fix__logo"),s.classList.add("fix__navbar")):(e.classList.remove("fixed__nav"),t.classList.remove("fix__logo"),s.classList.remove("fix__navbar"))}function functionNavFix(){if(document.querySelector("body").classList.contains("main__body"))return!1;window.addEventListener("scroll",fixedNav)}function functionStart(){if(document.querySelector("body").classList.contains("body__catalog")&&(catalogSelect(),viewMore(),readMore()),!document.querySelector("body").classList.contains("body__viewitem"))return!1;readMore()}$(document).ready((function(){$(".block__title").click((function(e){$(".block").hasClass("one")&&($(".block__title").not($(this)).removeClass("active_accordion"),$(".block__text").not($(this).next()).slideUp(300)),$(this).toggleClass("active_accordion").next().slideToggle(300)}))})),burgerMenu(),functionNavFix(),functionStart();